<!DOCTYPE html>
<html>
	<head>

	</head>
	<body onload="setup();">
		<div id="clock">What time is it?</div>
		<br>
		<h4> Spider will drop at this time*: </h4>
		<br>
		<select name="hour" id='hour'>
		</select>
		<select name="minute" id='minute'>
		</select>
		<select name="second" id='second'>
		</select>
		<button onclick="dropAt()">submit</button>	
		<h6> *must be later than current day's time </h4>
		<br>		
		<br>
		<h3> OR </h3>
		<br>
		<h4> Spider will drop in this many hours, minutes, seconds <h4>
		<input type="text" id="time">
		<select name="units" id='units'>
			<option name = 'hours' id='hours'>hour(s)</option>
			<option name = 'minutes' id='minutes'>minute(s)</option>
			<option name = 'seconds' id='seconds'>second(s)</option>
		</select>		
		<button onclick="dropIn()">submit</button>	

		<script type="text/javascript">
			function setup() {
				// start the clock
				setInterval(tick, 1000);
				var hour = document.getElementById('hour');
				var hours = document.getElementById('hours');
				var seconds = document.getElementById('seconds');
				var minutes = document.getElementById('minutes');

				for(var i = 0; i < 24; i++){
					var option = document.createElement("option");
					var t = document.createTextNode(i);
					option.appendChild(t)
					option.value = i;

					hour.appendChild(option);
				}

				for(var i = 0; i < 60; i++){
					var option = document.createElement("option");
					var t = document.createTextNode(i);
					option.appendChild(t)
					option.value = i;

					minute.appendChild(option);
				}

				for(var i = 0; i < 60; i++){
					var option = document.createElement("option");
					var t = document.createTextNode(i);
					option.appendChild(t)
					option.value = i;

					second.appendChild(option);
				}								
			}
			
			function tick() {
				// get the div that the clock should be in:
				var myClock = document.getElementById('clock');
				// get the date:
				var now = new Date();
				// put the date in the div:
				myClock.innerHTML = now;
			}

			function dropAt() {
				var request = new XMLHttpRequest();
				// GET /output/color/level, and make an asynchronous request:
				request.open( "GET", '/at/' + hour.value + "/" + minute.value + "/" + second.value, true );
				// close the request:
				request.send( null );				
			}

			function dropIn() {
				var request = new XMLHttpRequest();
				// GET /output/color/level, and make an asynchronous request:
				request.open( "GET", '/in/' + time.value + "/" + units.value, true );
				// close the request:
				request.send( null );				
			}

		</script>		
	</body>
</html>